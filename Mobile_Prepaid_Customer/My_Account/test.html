<!-- Full Card View Pop-up -->
<div id="unique-popup-overlay" class="overlay-custom">
    <div class="popup-container-custom">
        <!-- Popup Header -->
        <div class="popup-header-custom">
            <div class="plan-info-custom">
                <span class="plan-title-custom"></span>
                <span class="plan-cost-custom"></span>
            </div>
            <span id="close-unique-popup" class="popup-close-custom">&times;</span>
        </div>

        <!-- Popup Body -->
        <div class="popup-body-custom">
            <div class="plan-details-custom">
                <h3>Plan Details</h3>
                <table>
                    <tr>
                        <th>Feature</th>
                        <th>Details</th>
                    </tr>
                    <tbody id="plan-details-body"></tbody>
                </table>
            </div>

            <div class="extra-perks-custom">
                <h3>Additional Benefits</h3>
                <div class="perk-list-custom"></div>
            </div>

            <div class="popup-terms-custom">
                <h3>Terms & Conditions</h3>
                <p id="terms-content"></p>
            </div>
        </div>

        <!-- Popup Footer -->
        <div class="popup-footer-custom">
            <button class="purchase-button-custom">Recharge</button>
        </div>
    </div>
</div>






<div class="benefit">
    <i class="fas fa-clock"></i> <span class="expiry-badge">26th Apr, 2025</span>
</div>
<div class="benefit">
    <i class="fas fa-calendar-alt"></i> 90 Days
</div>
<div class="benefit">
    <i class="fas fa-tachometer-alt"></i> 2.5 GB/Day
</div>
<div class="benefit">
    <i class="fas fa-phone-alt"></i> Unlimited Calls
</div>
<div class="benefit">
    <i class="fas fa-wifi"></i> 50GB Data
</div>
<div class="benefit">
    <i class="fas fa-envelope"></i> 1500 SMS/Month
</div>


<script>
    document.addEventListener("DOMContentLoaded", function () {
    const profileMenu = document.querySelector(".profile-menu"); // Updated class
    const dropdownOptions = document.querySelector(".dropdown-options"); // Updated class
    const userIcon = document.querySelector(".profile-menu i"); // Updated selector for user icon
    const signOutBtn = document.getElementById("signOutBtn"); // No change needed

    function updateDropdown() {
        const currentCustomer = sessionStorage.getItem("currentCustomer");

        if (currentCustomer) {
            // Show dropdown when user icon is clicked
            userIcon.onclick = function (event) {
                event.stopPropagation();
                dropdownOptions.classList.toggle("active");
            };

            // Sign-out functionality
            signOutBtn.onclick = function (event) {
                event.preventDefault();
                sessionStorage.removeItem("currentCustomer"); // Remove session storage

                // Ensure the storage is cleared before redirecting
                setTimeout(() => {
                    window.location.href = "/Mobile_Prepaid_Customer/Recharge_Page/recharge.html"; 
                }, 100);
            };
        } else {
            // If not logged in, clicking the user icon redirects to the recharge page
            userIcon.onclick = function () {
                window.location.href = "/Mobile_Prepaid_Customer/Recharge_Page/recharge.html";
            };
        }
    }

    // Initialize dropdown behavior
    updateDropdown();

    // Close dropdown when clicking outside
    document.addEventListener("click", function (event) {
        if (!profileMenu.contains(event.target)) {
            dropdownOptions.classList.remove("active");
        }
    });

    // Handle case where user manually navigates away after signing out
    window.addEventListener("storage", function () {
        if (!sessionStorage.getItem("currentCustomer")) {
            window.location.href = "/Mobile_Prepaid_Customer/Recharge_Page/recharge.html";
        }
    });
});

</script>